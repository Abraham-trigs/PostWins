@import "tailwindcss";
@import "leaflet/dist/leaflet.css";

/* ==========================================================================
   Root Theme Tokens (NGO palette)
   ONLY 4–5 named colors. Everything else is derived.
   ========================================================================== */
:root {
  /* Core surfaces */
  --surface-primary: #05082c; /* dark teal – main surface */
  --surface-secondary: #05af2c; /* deep green – alt panels / cards */

  /* Brand & action */
  --brand-primary: #57a07e; /* main brand / primary buttons */
  --brand-link: #196fd1; /* links, focus rings, info */

  /* Accents */
  --accent-soft: #bbcfca; /* subtle highlights only */

  /* Feedback */
  --state-danger: #ff0000;
  --state-success: #00ff15;
  --state-warning: #e7c500;

  /* Text */
  --text-primary: #f4fafa;
  --text-secondary: #c9dddd;
  --text-disabled: #8aa5a0;

  /* ==========================================================================
     COMPAT COLOR LAYER (keeps existing utilities working)
     ========================================================================== */
  --color-ink: var(--text-primary);
  --color-paper: var(--surface-primary);
  --color-ocean: var(--brand-link);
  --color-mist: var(--accent-soft);
  --color-red: var(--state-danger);

  /* App defaults */
  --background: var(--color-paper);
  --foreground: var(--color-ink);

  /* === DERIVED UI TOKENS (do not add new colors) === */
  --color-line: color-mix(in srgb, var(--accent-soft) 26%, transparent);

  --surface: color-mix(in srgb, var(--surface-secondary) 16%, transparent);
  --surface-strong: color-mix(
    in srgb,
    var(--surface-secondary) 28%,
    transparent
  );
  --surface-muted: color-mix(in srgb, var(--accent-soft) 22%, transparent);

  --border: var(--color-line);
  --ring: color-mix(in srgb, var(--brand-link) 55%, transparent);

  /* UI radii & effects */
  --radius-pill: 9999px;
  --radius-card: 20px;
  --radius-lg: 12px;
  --blur-strong: 18px;

  /* Shadows */
  --shadow-soft: 0 18px 50px rgba(0, 0, 0, 0.18);
  --shadow-card: 0 10px 25px rgba(0, 0, 0, 0.14);

  /* ==========================================================================
     Xotic Layout Tokens (density-aware)
     ========================================================================== */
  --xotic-density: 1;

  --xotic-rail-w: 64px;
  --xotic-list-w: 320px;
  --xotic-details-w: 384px;
  --xotic-tablet-list-w: 380px;

  --xotic-pad-2: calc(8px * var(--xotic-density));
  --xotic-pad-3: calc(12px * var(--xotic-density));
  --xotic-pad-4: calc(16px * var(--xotic-density));
  --xotic-pad-6: calc(24px * var(--xotic-density));

  --xotic-radius-sm: calc(12px * var(--xotic-density));
  --xotic-radius: calc(16px * var(--xotic-density));
  --xotic-radius-lg: calc(24px * var(--xotic-density));

  --xotic-topbar-h: calc(56px * var(--xotic-density));
  --xotic-composer-h: calc(64px * var(--xotic-density));

  --xotic-desktop-header-h: calc(80px * var(--xotic-density));
  --xotic-desktop-composer-h: calc(80px * var(--xotic-density));
}

@media (min-width: 1024px) {
  :root {
    --xotic-topbar-h: var(--xotic-desktop-header-h);
    --xotic-composer-h: var(--xotic-desktop-composer-h);
  }
}

[data-xotic-density="compact"] {
  --xotic-density: 0.9;
}

[data-xotic-density="comfortable"] {
  --xotic-density: 1;
}

/* ==========================================================================
   Utilities (UNCHANGED – layout depends on these)
   ========================================================================== */
@utility bg-ink {
  background: var(--color-ink);
}
@utility bg-ocean {
  background: var(--color-ocean);
}
@utility bg-red {
  background: var(--color-red);
}
@utility bg-paper {
  background: var(--color-paper);
}
@utility bg-mist {
  background: var(--color-mist);
}

@utility text-ink {
  color: var(--color-ink);
}
@utility text-ocean {
  color: var(--color-ocean);
}
@utility text-red {
  color: var(--color-red);
}

@utility border-ocean {
  border-color: var(--color-ocean);
}
@utility border-red {
  border-color: var(--color-red);
}

/* ==========================================================================
   Tailwind Theme Mapping
   ========================================================================== */
@theme inline {
  --animate-ark-gradient: ark-gradient 50s cubic-bezier(0.4, 0, 0.2, 1) infinite;

  --color-surface: var(--surface);
  --color-surface-strong: var(--surface-strong);
  --color-surface-muted: var(--surface-muted);
  --color-border: var(--border);
  --color-ring: var(--ring);

  /* Base */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Palette */
  --color-ink: var(--color-ink);
  --color-ocean: var(--color-ocean);
  --color-red: var(--color-red);
  --color-paper: var(--color-paper);
  --color-mist: var(--color-mist);
  --color-line: var(--color-line);

  /* Radii */
  --radius-pill: var(--radius-pill);
  --radius-card: var(--radius-card);
  --radius-lg: var(--radius-lg);

  @keyframes ark-gradient {
    0% {
      background-position: 0% 50%;
    }
    12% {
      background-position: 85% 15%;
    }
    24% {
      background-position: 15% 85%;
    }
    36% {
      background-position: 95% 40%;
    }
    48% {
      background-position: 5% 60%;
    }
    60% {
      background-position: 50% 95%;
    }
    72% {
      background-position: 40% 5%;
    }
    84% {
      background-position: 90% 80%;
    }
    92% {
      background-position: 10% 10%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
}

/* ==========================================================================
   Global Styles
   ========================================================================== */
html,
body {
  height: 100%;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

hr {
  border-color: var(--color-line);
}

/* ==========================================================================
   Animated shimmer background
   ========================================================================== */
@utility bg-ark-shimmer {
  background: linear-gradient(
    -45deg,
    var(--color-ink),
    var(--color-ocean),
    var(--color-paper),
    var(--color-mist),
    var(--color-ink)
  );
  background-size: 400% 400%;
}

@utility shadow-soft {
  box-shadow: var(--shadow-soft);
}

@utility shadow-card {
  box-shadow: var(--shadow-card);
}
